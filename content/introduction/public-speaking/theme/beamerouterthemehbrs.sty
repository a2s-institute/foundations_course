%An outer theme dictates (roughly) the overall layout of frames. It specifies where any navigational elements should go (like a mini table of contents or navigational mini frames) and what they should look like. Typically, an outer theme specifies how the following elements are rendered:
% ∙ The head- and footline.
% ∙ The sidebars.
% ∙ The logo.
% ∙ The frame title.

\mode<presentation>

\newlength{\extrapadding}
\extrapadding=1.75mm

% Header
\defbeamertemplate*{headline}{hbrs}{
 \ifnum\c@framenumber=0\else%
\leavevmode%
	%\begin{tikzpicture}
    %\node[anchor=north west,yshift=\extrapadding, xshift=\extrapadding] at (current page.north west){
  	%	\includegraphics[height=0.45cm]{theme/images/Logo-HBRS-cyan.png}
  	%	};
	%\node[anchor=north east,yshift=\extrapadding, xshift=-\extrapadding] at (current page.north east){
	%\usebeamerfont{subtitle in head/foot}Fachbereich Informatik
  	%	};
	%\end{tikzpicture}%
\fi%
}

% Title Frame
\defbeamertemplate*{title page}{hbrs}{%
	\setcounter{framenumber}{0} %Set title frame counter to 0

  	\begin{tikzpicture}
  		\node[anchor=south west,yshift=\extrapadding, xshift=\extrapadding] at (current page.south west){
  		\includegraphics[height=1cm]{theme/images/Logo-HBRS-cyan.png}
	};
        \node[anchor=south east,yshift=\extrapadding, xshift=-10\extrapadding] at (current page.south east){
        \includegraphics[height=1cm]{theme/images/b-it.pdf}
    };
	\end{tikzpicture}

    % Input the title
    \usebeamerfont{title}%
    \usebeamercolor[fg]{title}%
    \begin{minipage}[b][2\baselineskip][b]{\textwidth}%
      \raggedright
      \inserttitle
    \end{minipage}
    \vskip-.5\baselineskip


    % Input the dashed line
    %\begin{pgfpicture}
    % \pgfsetlinewidth{2pt}
    %  \pgfsetroundcap
    %  \pgfsetdash{{0pt}{4pt}}{0cm}

    %  \pgfpathmoveto{\pgfpoint{0mm}{0mm}}
    %  \pgfpathlineto{\pgfpoint{\textwidth}{0mm}}

    %  \pgfusepath{stroke}
    %\end{pgfpicture}
    \vfill

    % Input the subtitle
    \usebeamerfont{subtitle}%
    \usebeamercolor[fg]{subtitle}%
    \begin{minipage}{\textwidth}
      \raggedright%
      \insertsubtitle%
    \end{minipage}\vskip.25\baselineskip


    % Input the date
    \usebeamerfont{date}%
    \usebeamercolor[fg]{date}%
    \begin{minipage}{\textwidth}
      \raggedright%
      \insertdate%
    \end{minipage}
    \vfill
    % Input the author's name
    \usebeamerfont{author}%
    \usebeamercolor[fg]{author}%
    \begin{minipage}{\textwidth}
      \raggedright%
      \insertauthor%
    \end{minipage}

}%


%Adding logo to footer
\setbeamertemplate{navigation symbols}{}%remove navigation symbols

\defbeamertemplate*{footline}{hbrs}{
 \ifnum\c@framenumber=0\else%
 \leavevmode%
  	\begin{tikzpicture}[overlay]
  	%	\node[anchor=south west,yshift=\extrapadding, xshift=\extrapadding] at (current page.south west){
  	%	\includegraphics[height=0.45cm]{images/Logo-HBRS-cyan.png}
	%\usebeamerfont{title in head/foot}\insertshorttitle
	%};
    \node[anchor=south west,yshift=\extrapadding, xshift=2\extrapadding] at (current page.south west){
    %\node[anchor=south west] at (current page.south west){
	\includegraphics[height=0.45cm]{theme/images/Logo-HBRS-cyan.png}
	};

    \node[anchor=south west,yshift=\extrapadding, xshift=20\extrapadding] at (current page.south west){
        \includegraphics[height=0.45cm]{theme/images/b-it.pdf}
    };

    \node[anchor=south east,  yshift=\extrapadding, xshift=-\extrapadding] at (current page.south east) {
    %\node[anchor=south east] at (current page.south east) {
        \usebeamerfont{title in head/foot}\insertshorttitle~ -
        \usebeamerfont{author in head/foot}\textbf{\insertshortauthor}\hspace*{2em}
        \usebeamercolor[fg]{framenumber}%
        \usebeamerfont{framenumber}%
		%\usebeamerfont{date in head/foot}\insertshortdate\hspace*{2em}
        \insertframenumber/\inserttotalframenumber
        };
        %\node[anchor=south, yshift=\extrapadding] at (current page.south){
        %\node[anchor=south] at (current page.south){
        %\usebeamerfont{author in head/foot}\insertshortauthor
        %};
  	\end{tikzpicture}

%   \vbox{
%   	\hfill
\fi
 }{}

% Frame title
\defbeamertemplate*{frametitle}{hbrs}[1	][]{%
	\vskip-1em % Align the text with the top border
	\vskip 4\extrapadding
	\usebeamercolor[fg]{frametitle}%
	\usebeamerfont{frametitle}%
	\insertframetitle\par%
    \vskip 0.25em
	\usebeamercolor[fg]{framesubtitle}%
	\usebeamerfont{framesubtitle}%
	\insertframesubtitle
}%


\mode<all>
\endinput
